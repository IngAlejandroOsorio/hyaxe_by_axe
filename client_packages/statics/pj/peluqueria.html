<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Hy AxE | Login</title>
    <link rel='stylesheet' href='./axe/bootstrap.min.css'>
    <link rel='stylesheet' href='./axe/axe.css'>
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <script src='../libs/jquery-3.3.1.min.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js" type="text/javascript"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <script src="../libs/colorpalettepicker.js"></script>
    <style>
        html,
        body {
            height: 100%;
            background-color: rgba(128, 128, 128, 0);
        }
        .butt {
        background-color: rgba(26, 25, 25, 0.8);
        border: none; /* Remove borders */
        color: white; /* White text */
        padding: 12px 16px; /* Some padding */
        font-size: 16px; /* Set a font size */
        cursor: pointer; /* Mouse pointer on hover */
        }

        /* Darker background on mouse-over */
        .butt:hover {
          background-color: #68040e;
        }

        input.active[type=range]::-webkit-slider-thumb {

        border: 3px solid #000000;
        border-radius: 4px;
        background: #ffffff;
        margin-top: -8px; /* You need to specify a margin in Chrome, but in Firefox and IE it is automatic */
        box-shadow: 3px 3px 3px #000000, 0px 0px 3px #0d0d0d; /* Add cool effects to your sliders! */
        }
    </style>

</head>

<body>
    <!-- partial:index.partial.html -->
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2">
                <br>
                <center><img src="../img/logoaxe.png" class="img-fluid img-responsive"></center>

                <div id="navigate">                    
                    <div class="card" style="background-color: rgba(26, 25, 25, 0.8)">
                          <div class="alert alert-primary" role="alert">
                                  Pelo
                                </div>
                          <div class="card-body text-white">
                                  <label for="customRange3">Tipo</label>
                                  <input id="selectedDefault" type="range" class="custom-range move" min="0" max="55" step="1" oninput="pelo_tipo(this.value)" onchange="pelo_tipo(this.value)" id="peloTipo">
                                  <label for="customRange3">Brillo</label>
                                  <input type="range" class="custom-range move" min="0" max="63" step="1" oninput="pelo_ilu(this.value)" onchange="pelo_ilu(this.value)" id="peloBrillo">
                                  <label for="customRange3">Color</label>
                                  <input type="range" class="custom-range move" min="1" max="63" step="1" oninput="pelo_color(this.value)" onchange="pelo_color(this.value)" id="paseloBrillo">
                          </div>
                    </div>
                    <br>
                    <div class="card" style="background-color: rgba(26, 25, 25, 0.8)">
                            <div class="alert alert-primary" role="alert">
                                    Barba 
                                  </div>
                            <div class="card-body text-white">
                                    <label for="customRange3">Tipo</label>
                                  <input type="range" class="custom-range move" min="0" max="29" step="1" oninput="barba_tipo(this.value)" onchange="barba_tipo(this.value)" id="barbaTipo">
                                  <label for="customRange3">Color</label>
                                  <input type="range" class="custom-range move" min="1" max="63" step="1" oninput="barba_color(this.value)" onchange="barba_color(this.value)" id="paseloBrillo">
                            </div>
                      </div>
                    <br>
                    <div class="card" style="background-color: rgba(26, 25, 25, 0.8)">
                            <div class="alert alert-primary" role="alert">
                                    Labios 
                                  </div>
                            <div class="card-body text-white">
                                    <label for="customRange3">Tipo</label>
                                  <input type="range" class="custom-range move" min="0" max="9" step="1" oninput="labios_tipo(this.value)" onchange="labios_tipo(this.value)" id="labiosTipo">
                                  <label for="customRange3">Color</label>
                                  <input type="range" class="custom-range move" min="1" max="63" step="1" oninput="labios_color(this.value)" onchange="labios_color(this.value)" id="paseloBrillo">
                            </div>
                      </div>
                    <br>
                    <div class="card" style="background-color: rgba(26, 25, 25, 0.8)">
                            <div class="alert alert-primary" role="alert">
                                    Maquillaje
                                  </div>
                            <div class="card-body text-white">
                                    <label for="customRange3">Tipo</label>
                                    <input type="range" class="custom-range move" min="0" max="74" step="1" oninput="maqui_tipo(this.value)" onchange="maqui_tipo(this.value)" id="maquillajeTipo">
                                    <label for="customRange3">Tipo de Rubor</label>
                                    <input type="range" class="custom-range move" min="0" max="6" step="1" oninput="rubor_tipo(this.value)" onchange="rubor_tipo(this.value)" id="majeTipo">
                                    <label for="customRange3">Color</label>
                                  <input type="range" class="custom-range move" min="1" max="63" step="1" oninput="rubor_color(this.value)" onchange="rubor_color(this.value)" id="paseloBrillo">
                            </div>
                      </div>
             <br>
             <div class="card" style="background-color: rgba(26, 25, 25, 0.8)">
                        <div class="card-body text-white">
                                    <center>
                                      <button type="button" class="btn btn-success btn-sm move" onClick="mp.trigger('RdmApariencia','Aleatorio')">Apariencia Aleatoria</button>
                                      <button type="button" class="btn btn-danger btn-sm move" onClick="mp.trigger('RdmApariencia','Reinicia')">Reiniciar Apariencia</button>
                                    </center>
                        </div>
                      </div>              
                    <br>
                        <button id="crearBtn" class="btn btn-success btn-block move">Comprar por $200</button>
                        <button id="volverBtn" class="btn btn-danger btn-block move">Cancelar</button>
              </div>                        
            </div>
            <div class="col-md-7"></div>
            <div class="col-md-3">

            </div>
        </div>
    </div>

    <div class="modal fade text-white" id="modalError">
        <div class="modal-dialog">
          <div class="modal-content" style="background-color: rgba(26, 25, 25, 0.8)">
          
            <!-- Modal Header -->
            <div class="modal-header" style="background-color: rgba(26, 25, 25, 0.8)">
              <h4 class="modal-title"><font color="#FF4136">Error</font></h4>
              <button type="button" class="close" data-dismiss="modal"><font color="#FF4136">×</font></button>
            </div>
            
            <!-- Modal body -->
            <div class="modal-body" style="background-color: rgba(26, 25, 25, 0.8)">
              <center>
                  <p id="mensajeError"></p>
                  <center><button type="button" class="btn btn-danger btn-block" data-dismiss="modal">Salir</button></center>
              </center>
            </div>
            
          </div>
        </div>
      </div>

<button id="modalerror" type="button" class="btn btn-primary" data-toggle="modal" style="display: none" data-target="#modalConfirmError">modal</button>
<button id="modalok" type="button" class="btn btn-primary" data-toggle="modal" style="display: none" data-target="#modalConfirmOk">modal</button>
      <!--Modal: modalConfirmDelete-->
<div class="modal fade" id="modalConfirmError" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm modal-notify modal-danger" role="document">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center">
        <p class="heading">Tienes un error con el nombre de tu Pj.</p>
      </div>

      <!--Footer-->
      <div class="modal-footer flex-center">
        <a type="button" class="btn  btn-danger2 " data-dismiss="modal">Ok</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
<!--Modal: modalConfirmDelete-->

      <!--Modal: modalConfirmDelete-->
<div class="modal fade" id="modalConfirmOk" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm modal-notify modal-danger" role="document">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center">
        <p class="heading">¿Deseas pagar este nuevo look por $200?</p>
      </div>

      <!--Footer-->
      <div class="modal-footer flex-center">
        <a href="" onclick="gogo()" class="btn btn-success btn-block">Si</a>
        <a type="button" class="btn  btn-danger2 waves-effect" data-dismiss="modal">No</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
<!--Modal: modalConfirmDelete-->

    <script src="assets/js/character-clothes.js"></script>
    <script src="assets/js/colores.js"></script>
    <script>
        var current;
        var genero = 0;

        //Rasgos
        var genMat = 0;
        var genPat = 0;        
        var faceMix = 0;
        var skinMix = 0;
        var etnPat = 0;
        var etnMat = 0;
        var etnMix = 0;
        var peloCol = 0;
        var peloTipo = 0;
        var peloIlu = 0;
        var barbaTipo = 0;
        var barbaCol = 0;
        var labiosTipo = 0;
        var labiosCol = 0;
        var cejasTipo = 0;
        var cejasCol = 0;
        var ojosCol = 0;
        var ruborTipo = 0;
        var ruborCol = 0;
        var maquiTipo = 0;
        var maquiCol = 0;
        var ropaTipo = 0;
        var pechoTipo = 0;
        var pechoCol = 0;
        var ropaVari = 0;
        var alejar = -998.5422; 
        var alejar2 = -99.00404;
        var rot = 176.891;

        function showError(error){
            document.getElementById("mensajeError").innerHTML = error;
            $("#modalError").modal();
        }


        $('#pj-settings').click(() => {
            if(current == null){
                $("#creator-pj").show();
                current = "#creator-pj";
            }else{
                $(current).hide();
                $("#creator-pj").show();
                current = "#creator-pj";
            }
        });

        $('#face-settings').click(() => {
            if(current == null){
                $("#creator-face").show();
                current = "#creator-face";
            }else{
                $(current).hide();
                $("#creator-face").show();
                current = "#creator-face";
            }
        });

        $('#hair-settings').click(() => {
            if(current == null){
                $("#creator-hair").show();
                current = "#creator-hair";
            }else{
                $(current).hide();
                $("#creator-hair").show();
                current = "#creator-hair";
            }
        });

        $('#lips-settings').click(() => {
            if(current == null){
                $("#creator-lips").show();
                current = "#creator-lips";
            }else{
                $(current).hide();
                $("#creator-lips").show();
                current = "#creator-lips";
            }
        });

 

   
        function pelo_tipo(valu){
          peloTipo = valu;
          selColores(peloTipo,peloCol,peloIlu,cejasCol,barbaCol,ojosCol,ruborCol,labiosCol,pechoCol);
        }

        function pelo_color(valu){
          peloCol = valu;
          selColores(peloTipo,peloCol,peloIlu,cejasCol,barbaCol,ojosCol,ruborCol,labiosCol,pechoCol);
        }

        function pelo_ilu(valu){
          peloIlu = valu;
          selColores(peloTipo,peloCol,peloIlu,cejasCol,barbaCol,ojosCol,ruborCol,labiosCol,pechoCol); 
        }

        function barba_tipo(valu){
          barbaTipo = valu;       
          selApariencia(1,barbaTipo);
        }

        function barba_color(valu){
            barbaCol = valu;
          selColores(peloTipo,peloCol,peloIlu,cejasCol,barbaCol,ojosCol,ruborCol,labiosCol,pechoCol);
        }

        function labios_tipo(valu){
          labiosTipo = valu;       
          selApariencia(8,labiosTipo);
        }

        function labios_color(valu){
            labiosCol = valu;
          selColores(peloTipo,peloCol,peloIlu,cejasCol,barbaCol,ojosCol,ruborCol,labiosCol,pechoCol);
        }


        function maqui_tipo(valu){
          maquiTipo = valu;
          selApariencia(4,maquiTipo);
        }

        function maqui_color(valu){
          maquiCol = valu;
          SelMaqui(maquiTipo,maquiCol);
        }

        function rubor_tipo(valu){
          ruborTipo = valu;
          selApariencia(5,ruborTipo);
        }

        function rubor_color(valu){
          ruborCol = valu;
          selColores(peloTipo,peloCol,peloIlu,cejasCol,barbaCol,ojosCol,ruborCol,labiosCol,pechoCol);
        }

        $('#crearBtn').click(() => {
            mp.trigger("guardarCreador","peluqueria"); 
        });


        $('#volverBtn').click(() => {
            //console.log("volver");            
            mp.trigger("salirCreador");
        });


        // Funciones CEF -> Cliente Rage

        function SelComponenteRasgos(tipo,conf1,conf2,conf3){
          conf1 = parseInt(conf1);
          conf2 = parseInt(conf2);
          conf3 = parseInt(conf3);
          //console.log("SelComponenteRasgos cef->"+tipo+" "+conf1+" "+conf2+" "+conf3);
          mp.trigger("resource.Sounds.PlaySelectSound");
          //https://wiki.rage.mp/index.php?title=Player::setHeadBlendData          
          mp.trigger("SelComponenteRasgos", JSON.stringify({ type: tipo, config1: conf1, config2: conf2,config3: conf3 }));
        }

        function selCara(index,valor){          
          //console.log("selCara cef->"+ index +" - "+ valor);
          mp.trigger("SetCaraC",index,valor);
        }

        function selApariencia(index,valor){          
          //console.log("selApa cef->"+ index +" - "+ valor);
          mp.trigger("SetApariencia",index,valor);
        }

        function selColores(peloTipo,peloCol,peloIlu,cejasCol,barbaCol,ojosCol,ruborCol,labiosCol,pechoCol){          
          //console.log("selApa cef->"+ index +" - "+ valor);
          mp.trigger("SetColores",peloTipo,peloCol,peloIlu,cejasCol,barbaCol,ojosCol,ruborCol,labiosCol,pechoCol);
        }

        function SelMaqui(tipo,color){          
          index = parseInt(tipo);
          valor = parseInt(color);
          mp.trigger("resource.Sounds.PlaySelectSound");
          //console.log("selCara cef->"+JSON.stringify({ tipo: index, color: color }));
          mp.trigger("SelMaquillaje", JSON.stringify({ tipo: index, color: color }));
        }

        function SelRopa(selected_item_type,current_item_variation){

          selected_item_type = parseInt(selected_item_type);
          current_item_variation = parseInt(current_item_variation);
          //console.log("selRopa cef->"+JSON.stringify(character_components[genero][selected_item_type][current_item_variation]));

          mp.trigger("resource.Sounds.PlaySelectSound");          
          mp.trigger("SelRopaPj", JSON.stringify(character_components[genero][selected_item_type][current_item_variation]));

          if (selected_item_type == 2)
                    mp.trigger("SelRopaPj", JSON.stringify(character_components[genero][12][ropaVari]));              
        }

        function SelRopa2(ropa2){
          ropa = parseInt(ropa2);
          //console.log("selRopa2 cef->"+JSON.stringify(character_components[genero][12][ropa2]));
          mp.trigger("SelRopaPj", JSON.stringify(character_components[genero][12][ropa2]));              
        }

        function alejar_cam(xx,yy){
          xx = parseFloat(xx);
          yy = parseFloat(yy);
          //console.log("AccionCamara cef->"+JSON.stringify({ xx: xx, yy: yy}));
          mp.trigger("AccionCamara", JSON.stringify({ xx: xx, yy: yy}));              
        }

        function rot_cam(zz){
          zz = parseFloat(zz);
          //console.log("AccionCamaraRot cef->"+JSON.stringify({ zz: zz}));
          mp.trigger("AccionCamaraRot", JSON.stringify({ zz: zz}));              
        }
       
        function logeo(cosa){
          console.log(cosa);
        }


var active = 0;
rePosition();

$(document).keydown(function(e){
    reCalculate(e);
    rePosition();
    return false;
});


function reCalculate(e){
    var rows = $('#navigate .move').length;
    var columns = $('#navigate .move:eq(0)').length;
    //alert(columns + 'x' + rows);
    
    if (e.keyCode == 37) { //move left or wrap
          $('input.active[type=range]').focus();
          $('input.active[type=range]').slider("value",$('input.active[type=range]').val() + 1)
          var val1 = parseInt($('input.active[type=range]').val());
          var val2 = val1 - 1;
          $('input.active[type=range]').val(val2);
          $('input.active[type=range]').change();
    }
    if (e.keyCode == 38) { // move up
        active = (active-columns>=0)?active-columns:active;
    }
    if (e.keyCode == 39) { // move right or wrap
          $('input.active[type=range]').focus();
          $('input.active[type=range]').slider("value",$('input.active[type=range]').val() + 1)
          var val1 = parseInt($('input.active[type=range]').val());
          var val2 = val1 + 1;
          $('input.active[type=range]').val(val2);
          $('input.active[type=range]').change();
    }
    if (e.keyCode == 40) { // move down
        active = (active+columns<=(rows*columns)-1)?active+columns:active;
    }
    if (e.keyCode == 13) {
        $('.active').click();
    }
    if (e.keyCode == 8) {
        mp.trigger("salirCreador");
    }
}

function rePosition(){
    $('.active').removeClass('active');
    $('#navigate .move').eq(active).addClass('active');
    scrollInView();
}

function scrollInView(){
    var target = $('#navigate .move:eq('+active+')');
    if (target.length)
    {
        var top = target.offset().top;
        
        $('html,body').stop().animate({scrollTop: top-300}, 400);
        return false;
    }
}

    </script>
    <!-- partial -->
    <script src='../libs/bootstrap.min.js'></script>
</body>

</html>